<!DOCTYPE html>
<html>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MU-Smart Foundry</title>
    <link href='https://fonts.googleapis.com/css?family=Raleway:500,600,700,800,900,400,300' rel='stylesheet'
        type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900,300italic,400italic'
        rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/owl.carousel.css" rel="stylesheet">
    <link href="../css/owl.theme.css" rel="stylesheet">
    <link href="../css/Pe-icon-7-stroke.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prettyPhoto.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.html" />
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/animate.css" rel="stylesheet">
    <link href="../css/responsive.css" rel="stylesheet">
    <link href="../css/file-input.css" rel="stylesheet" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body onload="getParam();">
    <!-- PRELOADER -->
    <div class="spn_hol">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>

    <!-- END PRELOADER -->
    <!-- =========================
         START ABOUT US SECTION
    ============================== -->
    <section class="header " id="HOME">
        <h2></h2>
        <nav class="navbar navbar-default navbar-fixed-top clearfix" role="navigation">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand logo-mu" href="#">
                        <img src="../images/mu-logo.png" alt="Logo">
                    </a>
                    <a class="navbar-brand" href="#">
                        <img src="../images/logo.png" alt="Logo">
                    </a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <!-- NAV -->
                        <!--<li><a href="index.html">HOME</a></li>-->
                        <li><a href="Modules.html">HOME</a></li>
                        <li><a href="http://192.168.12.36/SmartFoundry/Default">LOGOUT</a></li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->

            </div>
            <!-- /.container- -->

        </nav>

        <div class="inr-header">
            <h1>Module-C <br /> Quality Predicting</h1>
        </div>

    </section>



    <div class="container min-height">
        <div class="row inner-content-main">


            <div class="center-element text-center well-2 clearfix mb-30">
                <div class="inr-inr-header">
                    <h3>User input</h3>
                </div>

                <form id='data' class="form inpt-file">
                    <div id="input-data">
                    </div>
                    <div class="text-left pagination-btns">
                        <a href="PredictingNext.html" class="btn btn-primary-outline">Back</a>
                        <button type="submit" class="btn btn-primary" value="submit">Submit</button>
                    </div>
                </form>
                <div id="status"></div>

            </div>

            <div id="showOutput" class="center-element text-center well-2 clearfix" hidden>
                <div class="inr-inr-header">
                    <h3>Prediction</h3>
                </div>
                <div class="form outpt-file">

                </div>

                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 800 429"
                    style="enable-background:new 0 0 800 429;" xml:space="preserve">
                    <style type="text/css">
                        .st0 {
                            fill: #FFFFFF;
                        }

                        .st1 {
                            fill: #424951;
                        }

                        .st2 {
                            fill: #FFD662FF;
                        }

                        .st3 {
                            fill: #cc3333;
                        }

                        .st4 {
                            fill: #00A9B4;
                        }

                        .st5 {
                            fill: none;
                            stroke: #424951;
                            stroke-miterlimit: 10;
                            animation: dash infinite 15s linear;
                            stroke-dasharray: 10;
                            stroke-dashoffset: 1000;
                        }

                        @keyframes dash {
                            to {
                                stroke-dashoffset: 0;
                            }
                        }

                        .st101 {
                            fill: none;
                            stroke: #424951;
                            stroke-miterlimit: 10;
                            animation: dash-reverse infinite 15s linear;
                            stroke-dasharray: 10;
                            stroke-dashoffset: 0;
                        }

                        @keyframes dash-reverse {
                            to {
                                stroke-dashoffset: 1000;
                            }
                        }

                        .st6 {
                            fill: #F2B40B;
                        }

                        .st7 {
                            fill: #428bca;
                        }

                        .st8 {
                            fill: #D86C3D;
                        }

                        .st9 {
                            fill: #FFCC99;
                        }

                        .st10 {
                            font-family: 'Arial';
                        }

                        .st11 {
                            font-size: 15px;
                        }

                        .st12 {
                            opacity: 0.3;
                            fill: #FFFFFF;
                        }

                        .st13 {
                            font-size: 103.2675px;
                        }

                        .st14 {
                            fill: none;
                            stroke: #FFFFFF;
                            stroke-miterlimit: 10;
                        }
                    </style>
                    <g>
                        <g>
                            <path class="st0" d="M226.9,362.5c-10.1,0-18.4-8.3-18.4-18.4V82.9c0-10.1,8.3-18.4,18.4-18.4h362.2c10.1,0,18.4,8.3,18.4,18.4
			v261.2c0,10.1-8.3,18.4-18.4,18.4L226.9,362.5L226.9,362.5z" />
                            <path class="st1" d="M589.1,65c9.9,0,17.9,8,17.9,17.9v261.2c0,9.9-8,17.9-17.9,17.9H226.9c-9.9,0-17.9-8-17.9-17.9V82.9
			c0-9.9,8-17.9,17.9-17.9H589.1 M589.1,64H226.9c-10.4,0-18.9,8.5-18.9,18.9v261.2c0,10.4,8.5,18.9,18.9,18.9h362.2
			c10.4,0,18.9-8.5,18.9-18.9V82.9C608,72.5,599.5,64,589.1,64L589.1,64z" />
                        </g>
                        <g>
                            <path class="st2" d="M50.9,276.5c-10.1,0-18.4-8.3-18.4-18.4v-64.2c0-10.1,8.3-18.4,18.4-18.4h64.2c10.1,0,18.4,8.3,18.4,18.4
			v64.2c0,10.1-8.3,18.4-18.4,18.4H50.9z" />
                            <path class="st1" d="M115.1,176c9.9,0,17.9,8,17.9,17.9v64.2c0,9.9-8,17.9-17.9,17.9H50.9C41,276,33,268,33,258.1v-64.2
			c0-9.9,8-17.9,17.9-17.9L115.1,176 M115.1,175H50.9c-10.4,0-18.9,8.5-18.9,18.9v64.2c0,10.4,8.5,18.9,18.9,18.9h64.2
			c10.4,0,18.9-8.5,18.9-18.9v-64.2C134,183.5,125.5,175,115.1,175L115.1,175z" />
                        </g>
                        <g>
                            <path class="st3" d="M678.9,263.5c-10.1,0-18.4-8.3-18.4-18.4v-64.2c0-10.1,8.3-18.4,18.4-18.4h64.2c10.1,0,18.4,8.3,18.4,18.4
			v64.2c0,10.1-8.3,18.4-18.4,18.4H678.9z" />
                            <path class="st1" d="M743.1,163c9.9,0,17.9,8,17.9,17.9v64.2c0,9.9-8,17.9-17.9,17.9h-64.2c-9.9,0-17.9-8-17.9-17.9v-64.2
			c0-9.9,8-17.9,17.9-17.9L743.1,163 M743.1,162h-64.2c-10.4,0-18.9,8.5-18.9,18.9v64.2c0,10.4,8.5,18.9,18.9,18.9h64.2
			c10.4,0,18.9-8.5,18.9-18.9v-64.2C762,170.5,753.5,162,743.1,162L743.1,162z" />
                        </g>
                        <g>
                            <circle class="st4" cx="131.5" cy="225.5" r="8" />
                            <path class="st1" d="M131.5,218c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5S127.4,218,131.5,218 M131.5,217
			c-4.7,0-8.5,3.8-8.5,8.5s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S136.2,217,131.5,217L131.5,217z" />
                        </g>
                        <g>
                            <circle class="st4" cx="208.5" cy="137.5" r="8" />
                            <path class="st1" d="M208.5,130c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5S204.4,130,208.5,130 M208.5,129
			c-4.7,0-8.5,3.8-8.5,8.5s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S213.2,129,208.5,129L208.5,129z" />
                        </g>
                        <g>
                            <circle class="st4" cx="608.5" cy="213.5" r="8" />
                            <g>
                                <path class="st1" d="M608.5,206c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5S604.4,206,608.5,206 M608.5,205
				c-4.7,0-8.5,3.8-8.5,8.5s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S613.2,205,608.5,205L608.5,205z" />
                            </g>
                        </g>
                        <g>
                            <circle class="st4" cx="660.5" cy="213.5" r="8" />
                            <path class="st1" d="M660.5,206c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5S656.4,206,660.5,206 M660.5,205
			c-4.7,0-8.5,3.8-8.5,8.5s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S665.2,205,660.5,205L660.5,205z" />
                        </g>
                        <g>
                            <g>
                                <line class="st5" x1="135.9" y1="219.2" x2="198.5" y2="148" />
                                <g>
                                    <path class="st1"
                                        d="M202.5,143.5c-1.1,2.8-2.1,6.7-2.1,9.6l-2.4-4.4l-4.7-1.9C196.2,146.4,199.8,144.9,202.5,143.5z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <g>
                                <path class="st101" d="M416.5,250.5c-0.8,15.2-7.9,54-60.1,54H344" />
                                <g>
                                    <path class="st1"
                                        d="M416.5,244.5c-1.1,2.8-2.9,6.3-4.8,8.5l4.8-1.7l4.7,1.8C419.3,250.9,417.5,247.3,416.5,244.5z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <g>
                                <path class="st5" d="M216.5,137.5H242h102c0,0,67-8.3,72.2,39" />
                                <g>
                                    <path class="st1"
                                        d="M416.5,182.5c-1.2-2.8-3.3-6.2-5.3-8.2l4.9,1.4l4.6-2C418.9,176,417.4,179.6,416.5,182.5z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <path class="st6" d="M260.9,188.5c-10.1,0-18.4-8.3-18.4-18.4v-64.2c0-10.1,8.3-18.4,18.4-18.4h64.2c10.1,0,18.4,8.3,18.4,18.4
			v64.2c0,10.1-8.3,18.4-18.4,18.4H260.9z" />
                            <path class="st1" d="M325.1,88c9.9,0,17.9,8,17.9,17.9v64.2c0,9.9-8,17.9-17.9,17.9h-64.2c-9.9,0-17.9-8-17.9-17.9v-64.2
			c0-9.9,8-17.9,17.9-17.9L325.1,88 M325.1,87h-64.2c-10.4,0-18.9,8.5-18.9,18.9v64.2c0,10.4,8.5,18.9,18.9,18.9h64.2
			c10.4,0,18.9-8.5,18.9-18.9v-64.2C344,95.5,335.5,87,325.1,87L325.1,87z" />
                        </g>
                        <g>
                            <path class="st7" d="M260.9,339.5c-10.1,0-18.4-8.3-18.4-18.4v-64.2c0-10.1,8.3-18.4,18.4-18.4h64.2c10.1,0,18.4,8.3,18.4,18.4
			v64.2c0,10.1-8.3,18.4-18.4,18.4H260.9z" />
                            <path class="st1" d="M325.1,239c9.9,0,17.9,8,17.9,17.9v64.2c0,9.9-8,17.9-17.9,17.9h-64.2c-9.9,0-17.9-8-17.9-17.9v-64.2
			c0-9.9,8-17.9,17.9-17.9L325.1,239 M325.1,238h-64.2c-10.4,0-18.9,8.5-18.9,18.9v64.2c0,10.4,8.5,18.9,18.9,18.9h64.2
			c10.4,0,18.9-8.5,18.9-18.9v-64.2C344,246.5,335.5,238,325.1,238L325.1,238z" />
                        </g>
                        <g>
                            <circle class="st8" cx="416.5" cy="213.5" r="30" />
                            <g>
                                <path class="st1" d="M416.5,184c16.3,0,29.5,13.2,29.5,29.5S432.8,243,416.5,243S387,229.8,387,213.5S400.2,184,416.5,184
				 M416.5,183c-16.8,0-30.5,13.7-30.5,30.5s13.7,30.5,30.5,30.5s30.5-13.7,30.5-30.5S433.3,183,416.5,183L416.5,183z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <line class="st5" x1="572.5" y1="213.6" x2="594" y2="213.6" />
                                <g>
                                    <path class="st1"
                                        d="M600,213.6c-2.8,1.1-6.4,2.9-8.5,4.8l1.7-4.8l-1.7-4.8C593.6,210.7,597.2,212.5,600,213.6z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <g>
                                <line class="st5" x1="446.5" y1="213.6" x2="465" y2="213.6" />
                                <g>
                                    <path class="st1"
                                        d="M471,213.6c-2.8,1.1-6.4,2.9-8.5,4.8l1.7-4.8l-1.7-4.8C464.6,210.7,468.2,212.5,471,213.6z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <g>
                                <line class="st5" x1="617" y1="213.5" x2="647" y2="213.5" />
                                <g>
                                    <path class="st1"
                                        d="M653,213.5c-2.8,1.1-6.4,2.9-8.5,4.8l1.7-4.8l-1.7-4.8C646.6,210.6,650.2,212.4,653,213.5z" />
                                </g>
                            </g>
                        </g>
                        <g>
                            <path class="st9" d="M489.9,339.5c-10.1,0-18.4-8.3-18.4-18.4V105.9c0-10.1,8.3-18.4,18.4-18.4h64.2c10.1,0,18.4,8.3,18.4,18.4
			v215.2c0,10.1-8.3,18.4-18.4,18.4L489.9,339.5L489.9,339.5z" />
                            <path class="st1" d="M554.1,88c9.9,0,17.9,8,17.9,17.9v215.2c0,9.9-8,17.9-17.9,17.9h-64.2c-9.9,0-17.9-8-17.9-17.9V105.9
			c0-9.9,8-17.9,17.9-17.9H554.1 M554.1,87h-64.2c-10.4,0-18.9,8.5-18.9,18.9v215.2c0,10.4,8.5,18.9,18.9,18.9h64.2
			c10.4,0,18.9-8.5,18.9-18.9V105.9C573,95.5,564.5,87,554.1,87L554.1,87z" />
                        </g>
                        <text transform="matrix(1 0 0 1 75.2153 298.1357)" class="st1 st10 st11" id="no-in-text">13</text>
                        <text transform="matrix(1 0 0 1 61.3027 168.4299)" class="st1 st10 st11">Input</text>
                        <text transform="matrix(1 0 0 1 400.2153 390.1357)" class="st1 st10 st11" id="no-hidden-text">10</text>
                        <text transform="matrix(1 0 0 1 381.1833 56.1357)" class="st1 st10 st11">Hidden Layer</text>
                        <text transform="matrix(1 0 0 1 270.159 143.0098)" class="st10 st11">Weight</text>
                        <text transform="matrix(1 0 0 1 412.4116 218.5098)" class="st12 st11">+</text>
                        <text transform="matrix(1 0 0 1 278.0486 294.0098)" class="st10 st11">Bias</text>
                        <text transform="matrix(1 0 0 1 703.2153 289.1357)" class="st1 st10 st11" id="no-out-text">23</text>
                        <text transform="matrix(1 0 0 1 677.2913 157.1357)" class="st1 st10 st11">Output</text>
                    </g>
                </svg>

            </div>

        </div>
    </div>


    <section class="copyright">
        <h2></h2>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="copy_right_text">
                        <!-- COPYRIGHT TEXT -->
                        <p>Copyright &copy; 2019. All Rights Reserved.</p>
                        <p><a href="javascriopt:void(0);">SMART FOUNDRY</a></p>
                    </div>

                </div>

                <div class="col-md-6">
                    <div class="scroll_top">
                        <a href="#HOME"><i class="fa fa-angle-up"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- =========================
         SCRIPTS
    ============================== -->


    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/owl.carousel.js"></script>
    <!--<script src="js/jquery.fitvids.js"></script>-->
    <script src="../js/smoothscroll.js"></script>
    <script src="../js/jquery.parallax-1.1.3.js"></script>
    <script src="../js/jquery.prettyPhoto.js"></script>
    <script src="../js/jquery.ajaxchimp.min.js"></script>
    <script src="../js/jquery.ajaxchimp.langs.js"></script>
    <script src="../js/wow.min.js"></script>
    <!--<script src="js/waypoints.min.js"></script>-->
    <script src="../js/jquery.counterup.min.js"></script>
    <script src="../js/script.js"></script>
    <script src="../js/api.js"></script>


    <script>
        function getParam() {
            $.ajax({
                // url: "http://127.0.0.1:5000/getParam",
                url: url + "/getParam",
                type: 'POST',
                xhrFields: {
                    'withCredentials': true
                },
                crossDomain: true,
                success: function (data) {
                    console.log(data)

                    var inLength = data[0].length;
                    var outLength = data[1].length;

                    createInputFields(inLength, "input")
                    createInputFields(outLength, "output")

                    var inp = $('.input').toArray()
                    inp.forEach((element, index) => {
                        element.firstChild.setAttribute("placeholder", data[0][index])
                        element.firstChild.setAttribute("name", data[0][index])
                    });

                    var inp = $('.output').toArray()
                    inp.forEach((element, index) => {
                        element.firstChild.setAttribute("placeholder", data[1][index])
                    });


                    $('#no-in-text').text(inLength);
                    $('#no-out-text').text(outLength);
                    $('#no-hidden-text').text(data[2][0].neurons);

                },
                error: function (data) {
                    console.log(data.statusText)
                },
                cache: false,
                contentType: false,
                processData: false
            });
        }

        function createInputFields(length, type) {

            var colMd4 = document.createElement('div');
            colMd4.className = "form-group-inline col-md-4"

            var colMd6 = document.createElement('div');
            colMd6.className = "col-md-6 " + type

            var parent = document.createElement('div');
            parent.className = "form-group"

            var colorArr = ["#ade6bb", "#eeacac", "#cdcdcd", "#b1d9e9", "#dbceeb"];

            var inp = document.createElement('input');
            inp.style.textAlign = "center"
            inp.style.backgroundColor = type == "output" ? colorArr[length - 1] : "#fff";
            inp.style.fontWeight = type == "output" ? "bold" : "";
            type == "output" ? inp.setAttribute("readonly", true) : null

            var label = document.createElement('label');
            label.className = "col-md-12"

            var id = type == "input" ? 'input-data' : 'showOutput'

            var form = document.getElementById(id)

            parent.append(label)

            var midChild = 0
            var parentNo = 0
            while (length > 0) {

                colMd6.append(inp)
                colMd4.append(colMd6)

                midChild += 1

                if (midChild == 2) {

                    parent.append(colMd4)

                    parentNo += 1

                    if (parentNo == 3) {

                        form.append(parent)

                        parent = document.createElement('div');
                        parent.className = "form-group"

                        var label = document.createElement('label');
                        label.className = "col-md-12"

                        parent.append(label)

                        parentNo = 0
                    }

                    colMd4 = document.createElement('div');
                    colMd4.className = "form-group-inline col-md-4"

                    midChild = 0
                }

                length -= 1

                inp = document.createElement('input');
                inp.style.textAlign = "center"
                inp.style.backgroundColor = type == "output" ? colorArr[length - 1] : "#fff";
                inp.style.fontWeight = type == "output" ? "bold" : "";
                type == "output" ? inp.setAttribute("readonly", true) : null


                colMd6 = document.createElement('div');
                colMd6.className = "col-md-6 " + type



            }

            if (midChild != 0) {
                parent.append(colMd4)
            }

            if (parentNo < 3) {
                form.append(parent)
            }
        }

        $("form#data").submit(function (e) {
            document.getElementById("status").innerHTML = "Predicting..."

            e.preventDefault();
            var formData = new FormData(this);

            $.ajax({
                // url: "http://127.0.0.1:5000/predict",
                url: url + "/predict",
                type: 'POST',
                data: formData,
                xhrFields: {
                    'withCredentials': true,
                },
                crossDomain: true,
                success: function (data) {
                    console.log(data)
                    poll(data)
                },
                error: function (data) {
                    console.log(data.statusText)
                    document.getElementById("status").innerHTML = "Something Went Wrong"
                },
                cache: false,
                contentType: false,
                processData: false
            });
        })

        function poll(data) {
            var timeout = ""

            var poller = function () {
                $.ajax({
                    // url: "http://127.0.0.1:5000/results/" + data,
                    url: url + "/results/" + data,
                    type: 'GET',
                    xhrFields: {
                        'withCredentials': true,
                    },
                    crossDomain: true,
                    success: function (data, status) {
                        if (data === "400") {
                            document.getElementById("status").innerHTML = "Something Went Wrong<br/>Please Check Form Values or Contact The Admin"
                            clearTimeout(timeout)
                            return false
                        }
                        if (data !== "202") {
                            document.getElementById("status").innerHTML = ""
                            var inp = $('.output').toArray()
                            inp.forEach((element, index) => {
                                var p = element.firstChild.getAttribute("placeholder")
                                element.firstChild.setAttribute("value", p + " = " + data[index].toFixed(2))
                            });
                            $('#showOutput').show()
                            clearTimeout(timeout)
                            return false
                        }
                        document.getElementById("status").innerHTML = "Predicting..."
                        timeout = setTimeout(poller, 5000)
                    },
                    error: function (data) {
                        console.log("Something Went Wrong")
                        document.getElementById("status").innerHTML = "Something Went Wrong"
                    },
                    cache: false,
                    contentType: false,
                    processData: false
                })
            }
            poller();
        }
    </script>




</body>

<!-- Mirrored from 192.168.12.36/SmartFoundry/Default/PredictingData by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Aug 2019 12:57:33 GMT -->

</html>